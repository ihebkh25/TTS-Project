<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TTS Project</title>
    <link rel="stylesheet" href="css/global.css">
    <link rel="stylesheet" href="css/tts.css">
    <link rel="stylesheet" href="css/stream.css">
    <link rel="stylesheet" href="css/chat.css">
    <link rel="stylesheet" href="css/server.css">
</head>
<body>
<div id="loadingIndicator" style="position: fixed; top: 0; left: 0; right: 0; background: #3b82f6; color: white; padding: 10px; text-align: center; z-index: 10000; font-family: monospace;">
    Loading TTS Application... <span id="loadingStatus">Initializing...</span>
</div>
<div class="app-container" id="appContainer" style="display: none;">
    <aside class="sidebar">
        <h2 class="logo">TTS</h2>
        <nav class="nav">
            <button class="tab-btn active" data-tab="tts">Text-to-Speech</button>
            <button class="tab-btn" data-tab="stream">Streaming</button>
            <button class="tab-btn" data-tab="chat">AI Chat</button>
            <button class="tab-btn" data-tab="server">Server Info</button>
        </nav>
    </aside>

    <main class="main-content">
        <header class="header">
            <h1 id="pageTitle">Text-to-Speech</h1>
            <p id="pageDescription">Convert text to natural-sounding speech</p>
            <div class="status-badge" id="serverStatus">
                <span class="status-dot"></span>
                <span>Checking...</span>
            </div>
        </header>

        <div id="toastContainer" class="toast-container"></div>

        <!-- Tab content will be loaded dynamically here -->
        <div id="tabContentContainer"></div>
    </main>
</div>
    <script type="module" src="js/main.js"></script>
    <script>
        // Global error handler for debugging (non-blocking)
        window.addEventListener('error', (event) => {
            console.error('[Global Error Handler]', {
                message: event.message,
                filename: event.filename,
                lineno: event.lineno,
                colno: event.colno,
                error: event.error
            });
        }, true);
        
        // Handle unhandled promise rejections
        window.addEventListener('unhandledrejection', (event) => {
            console.error('[Unhandled Promise Rejection]', {
                reason: event.reason,
                promise: event.promise
            });
        });
    </script>
</body>
</html>